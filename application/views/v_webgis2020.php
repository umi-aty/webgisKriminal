<div class="row">
        <div class="col-sm-12">
            <div class="panel panel-primary">
                     <div id="map" style="height: 500px;"></div>
                </div>
            </div>
        </div>
    </div>

<script src="assets/js/Leaflet.heat/dist/leaflet-heat.js"></script>

<script>

	var peta2 = L.tileLayer(
				'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
					attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
						'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
						'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
					id: 'mapbox/satellite-v9'
				});

	var peta3 = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
				attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
			});

	var map = L.map('map', {
				center: [-6.176776, 107.1368883],
				zoom: 10,
				layers: [peta3]
			});

	var batasadmin_kab= L.layerGroup();
	var kerawanan_rendah= L.layerGroup();
	var kerawanan_sedang= L.layerGroup();
    var Tahun2020= L.layerGroup();
    var dinihari2020= L.layerGroup();
    var pagihari2020= L.layerGroup();
    var sianghari2020= L.layerGroup();
    var malamhari2020= L.layerGroup();

	var myStyle = {
		"color": "#000000",
		"weight": 2.5,
		"opacity": 0.65
	};

	var myStyle4 = {
		"color": "#ffa31a",
		"weight": 2,
		"opacity": 0.65
	};

	var myStyle5 = {
		"color": "#e62e00",
		"weight": 2,
		"opacity": 0.65
	};


	function popUp(f,l){
		var out = [];
		if (f.properties){
			out.push("Kabupaten: "+f.properties['KABUPATEN']);
			l.bindPopup(out.join("<br />"));
		}
	}
		
	function popUp4(f,l){
		var out = [];
		if (f.properties){
            out.push("KECAMATAN "+f.properties['KECAMATAN']);
			out.push("Kerawanan:  "+f.properties['Tingkat_Kr']);
			l.bindPopup(out.join("<br />"));
		}
	}

	function popUp3(f,l){
		var out = [];
		if (f.properties){
			out.push("Jenis Kriminalitas: "+f.properties['Jenis_krim']);
			out.push("Lokasi: "+f.properties['lokasi']);
			l.bindPopup(out.join("<br />"));
		}
	}
	var jsonTest = new L.GeoJSON.AJAX(["<?= base_url() ?>assets/geojson/batasadmin_kab.geojson"],{onEachFeature:popUp, style: myStyle}).addTo(batasadmin_kab);
	var jsonTest = new L.GeoJSON.AJAX(["<?= base_url() ?>assets/geojson/kerawanan_rendah.geojson"],{onEachFeature:popUp4, style: myStyle4}).addTo(kerawanan_rendah);
	var jsonTest = new L.GeoJSON.AJAX(["<?= base_url() ?>assets/geojson/kerawanan_sedang.geojson"],{onEachFeature:popUp4, style: myStyle5}).addTo(kerawanan_sedang);
	var jsonTest = new L.GeoJSON.AJAX(["<?= base_url() ?>assets/geojson/Tahun2020.geojson"],{onEachFeature:popUp3}).addTo(Tahun2020);
	var jsonTest = new L.GeoJSON.AJAX(["<?= base_url() ?>assets/geojson/dinihari2020.geojson"],{onEachFeature:popUp3}).addTo(dinihari2020);
	var jsonTest = new L.GeoJSON.AJAX(["<?= base_url() ?>assets/geojson/pagihari2020.geojson"],{onEachFeature:popUp3}).addTo(pagihari2020);
	var jsonTest = new L.GeoJSON.AJAX(["<?= base_url() ?>assets/geojson/sianghari2020.geojson"],{onEachFeature:popUp3}).addTo(sianghari2020);
	var jsonTest = new L.GeoJSON.AJAX(["<?= base_url() ?>assets/geojson/malamhari2020.geojson"],{onEachFeature:popUp3}).addTo(malamhari2020);

	var baseMaps = {
		"Satellite": peta2,
		"Streets": peta3,
		
	};

	var overlayer = {
		'Batas Admin Kabupaten': batasadmin_kab, 
		'Kerawanan Rendah': kerawanan_rendah,
		'Kerawanan Sedang': kerawanan_sedang,
		'Kriminalitas Tahun 2020': Tahun2020,
		'Pukul 00.01-06.00 Tahun 2020': dinihari2020,
		'Pukul 06.01-12.00 Tahun 2020': pagihari2020,
		'Pukul 12.01-18.00 Tahun 2020': sianghari2020,
		'Pukul 18.01-00.00 Tahun 2020': malamhari2020,
	};

	var diniHari = [
		[ -6.1684117, 107.0335959, "50" ],
		[ -6.1710439, 107.0363552, "50" ],
		[ -6.2750128, 107.0688185, "50" ],
		[ -6.2643154, 107.148987, "50" ],
		[ -6.0911316, 107.1878628, "50" ],
		[ -6.3883735, 107.2088941, "50" ],
		[ -6.1812537, 107.0394635, "50" ],
		[ -6.2655481, 107.0740929, "50" ],
		[ -6.3145115, 107.0991991, "50" ],
		[ -6.3605448, 107.1481018, "50" ],
		[ -6.2508297, 107.0839503, "50" ],
		[ -6.3433815, 107.1096912, "50" ],
		[ -6.2738319, 107.1849525, "50" ],
		[ -6.2388312, 107.159977, "50" ],
		[ -6.2778466, 107.0755378, "50" ],
		[ -6.2600507, 107.1726028, "50" ],
		[ -6.2773804, 107.1068324, "50" ],
		[ -6.2677174, 107.094796, "50" ],
		[ -6.2274517, 107.0573032, "50" ],
		[ -6.2989443, 107.151291, "50" ],
		[ -6.2267146, 107.1717484, "50" ],
		[ -6.3581398, 107.1445829, "50" ],
		[ -6.3150855, 107.0703228, "50" ],
		[ -6.3604989, 107.1500828, "50" ],
		[ -6.3210294, 107.1473677, "50" ],
		[ -6.3400687, 107.0419237, "50" ],
		[ -6.2585334, 107.1318352, "50" ],
		[ -6.2567823, 107.1294917, "50" ],
		[ -6.258462, 107.050007, "50" ],
		[ -6.258408, 107.050045, "50" ],
		[ -6.2482967, 107.0704715, "50" ],
		[ -6.2138988, 107.1678115, "50" ],
		[ -6.3183924, 107.1674781, "50" ],
		[ -6.2949378, 107.1481411, "50" ],
		[ -6.2803869, 107.0826151, "50" ],
		[ -6.2485428, 107.1025074, "50" ],
		[ -6.2697455, 107.1775163, "50" ],
		[ -6.2667826, 107.0723241, "50" ],
		[ -6.2266816, 107.1657079, "50" ],
		[ -6.2482444, 107.0702371, "50" ],
		[ -6.2845651, 107.1070862, "50" ],
		[ -6.1904684, 107.1011837, "50" ],
		[ -6.2275733, 107.1657079, "50" ],
		[ -6.3714897, 107.1088667, "50" ],
	];

	var pagi = [
		[ -6.4339589, 107.0826795, "50" ],
		[ -6.2710224, 107.0813632, "50" ],
		[ -6.1990919, 107.0777813, "50" ],
		[ -6.2385416, 107.1601377, "50" ],
		[ -6.2609796, 107.1531587, "50" ],
		[ -6.2577934, 107.1579268, "50" ],
		[ -6.3080801, 107.1430893, "50" ],
		[ -6.3945356, 107.2129791, "50" ],
		[ -6.2497596, 107.1571887, "50" ],
		[ -6.3251429, 107.089482, "50" ],
		[ -6.1742719, 107.1780698, "50" ],
		[ -6.4161171, 107.0795823, "50" ],
		[ -6.2544628, 107.0718696, "50" ],
		[ -6.2544628, 107.0718696, "50" ],
		[ -6.2544628, 107.0718696, "50" ],
		[ -6.2920384, 107.1472601, "50" ],
		[ -6.2603041, 107.0900341, "50" ],
		[ -6.2455843, 107.0784328, "50" ],
	];

	var siang = [
		[ -6.2367388, 107.0984622, "50" ],
		[ -6.2983993, 107.0864487, "50" ],
		[ -6.2503779, 107.0723125, "50" ],
		[ -6.2692792, 107.1501373, "50" ],
		[ -6.2557226, 107.1433014, "50" ],
		[ -6.3481646, 107.1203031, "50" ],
		[ -6.2167584, 107.0559627, "50" ],
		[ -6.2575848, 107.174499, "50" ],
		[ -6.2593344, 107.1562839, "50" ],
		[ -6.1055309, 107.0663077, "50" ],
		[ -6.2479128, 107.1600573, "50" ],
		[ -6.2715963, 107.0225496, "50" ],
		[ -6.2791338, 107.1673139, "50" ],
		[ -6.2228306, 107.0960627, "50" ],
		[ -6.2556462, 107.0719259, "50" ],
		[ -6.2156807, 107.1537743, "50" ],
		[ -6.2635631, 107.1419206, "50" ],
		[ -6.27091, 107.091903, "50" ],
		[ -6.2618018, 107.0836912, "50" ],
		[ -6.2685649, 107.0509906, "50" ],
		[ -6.3460974, 107.1210127, "50" ],
		[ -6.3144055, 107.0992583, "50" ],
		[ -6.2425509, 107.0875357, "50" ],
		[ -6.2425509, 107.0875357, "50" ],
		[ -6.3932636, 107.1150283, "50" ],
	];

	var malam = [
		[ -6.2512364, 107.1564913, "50" ],
		[ -6.3219422, 107.0862596, "50" ],
		[ -6.2696556, 107.1175469, "50" ],
		[ -6.3295035, 107.0974533, "50" ],
		[ -6.3327198, 107.1205918, "50" ],
		[ -6.2514584, 107.075707, "50" ],
		[ -6.258775, 107.050011, "50" ],
		[ -6.27211, 107.1155476, "50" ],
		[ -6.268435, 107021357.0, "50" ],
		[ -6.2658618, 107.0793746, "50" ],
		[ -6.2739433, 107.1177314, "50" ],
		[ -6.2924895, 107.1552315, "50" ],
		[ -6.3590143, 107.1064558, "50" ],
		[ -6.2540895, 107.0970166, "50" ],
		[ -6.1944588, 107.0783218, "50" ],
		[ -6.2679337, 107.1011837, "50" ],
	];

	var tahun2020 = [
		[ -6.1684117, 107.0335959, "50" ],
		[ -6.2512364, 107.1564913, "50" ],
		[ -6.4339589, 107.0826795, "50" ],
		[ -6.1710439, 107.0363552, "50" ],
		[ -6.2750128, 107.0688185, "50" ],
		[ -6.2367388, 107.0984622, "50" ],
		[ -6.2643154, 107.148987, "50" ],
		[ -6.0911316, 107.1878628, "50" ],
		[ -6.3883735, 107.2088941, "50" ],
		[ -6.1812537, 107.0394635, "50" ],
		[ -6.2983993, 107.0864487, "50" ],
		[ -6.2503779, 107.0723125, "50" ],
		[ -6.3219422, 107.0862596, "50" ],
		[ -6.2655481, 107.0740929, "50" ],
		[ -6.2710224, 107.0813632, "50" ],
		[ -6.3145115, 107.0991991, "50" ],
		[ -6.2692792, 107.1501373, "50" ],
		[ -6.3605448, 107.1481018, "50" ],
		[ -6.2508297, 107.0839503, "50" ],
		[ -6.2696556, 107.1175469, "50" ],
		[ -6.3433815, 107.1096912, "50" ],
		[ -6.3295035, 107.0974533, "50" ],
		[ -6.1990919, 107.0777813, "50" ],
		[ -6.2557226, 107.1433014, "50" ],
		[ -6.2738319, 107.1849525, "50" ],
		[ -6.2388312, 107.159977, "50" ],
		[ -6.2778466, 107.0755378, "50" ],
		[ -6.3481646, 107.1203031, "50" ],
		[ -6.2167584, 107.0559627, "50" ],
		[ -6.2575848, 107.174499, "50" ],
		[ -6.2593344, 107.1562839, "50" ],
		[ -6.3327198, 107.1205918, "50" ],
		[ -6.2514584, 107.075707, "50" ],
		[ -6.1055309, 107.0663077, "50" ],
		[ -6.258775, 107.050011, "50" ],
		[ -6.2479128, 107.1600573, "50" ],
		[ -6.2600507, 107.1726028, "50" ],
		[ -6.2773804, 107.1068324, "50" ],
		[ -6.2817127, 107.0445392, "50" ],
		[ -6.2385416, 107.1601377, "50" ],
		[ -6.2677174, 107.094796, "50" ],
		[ -6.2715963, 107.0225496, "50" ],
		[ -6.2609796, 107.1531587, "50" ],
		[ -6.2577934, 107.1579268, "50" ],
		[ -6.3080801, 107.1430893, "50" ],
		[ -6.2791338, 107.1673139, "50" ],
		[ -6.3945356, 107.2129791, "50" ],
		[ -6.2274517, 107.0573032, "50" ],
		[ -6.2989443, 107.151291, "50" ],
		[ -6.2267146, 107.1717484, "50" ],
		[ -6.2228306, 107.0960627, "50" ],
		[ -6.2556462, 107.0719259, "50" ],
		[ -6.3581398, 107.1445829, "50" ],
		[ -6.27211, 107.1155476, "50" ],
		[ -6.2497596, 107.1571887, "50" ],
		[ -6.3150855, 107.0703228, "50" ],
		[ -6.3251429, 107.089482, "50" ],
		[ -6.3604989, 107.1500828, "50" ],
		[ -6.268435, 107021357.0, "50" ],
		[ -6.3210294, 107.1473677, "50" ],
		[ -6.2156807, 107.1537743, "50" ],
		[ -6.1742719, 107.1780698, "50" ],
		[ -6.2635631, 107.1419206, "50" ],
		[ -6.3400687, 107.0419237, "50" ],
		[ -6.2585334, 107.1318352, "50" ],
		[ -6.4161171, 107.0795823, "50" ],
		[ -6.2567823, 107.1294917, "50" ],
		[ -6.258462, 107.050007, "50" ],
		[ -6.258408, 107.050045, "50" ],
		[ -6.2482967, 107.0704715, "50" ],
		[ -6.2138988, 107.1678115, "50" ],
		[ -6.27091, 107.091903, "50" ],
		[ -6.3183924, 107.1674781, "50" ],
		[ -6.2544628, 107.0718696, "50" ],
		[ -6.2658618, 107.0793746, "50" ],
		[ -6.2544628, 107.0718696, "50" ],
		[ -6.2949378, 107.1481411, "50" ],
		[ -6.2739433, 107.1177314, "50" ],
		[ -6.2618018, 107.0836912, "50" ],
		[ -6.2803869, 107.0826151, "50" ],
		[ -6.2920384, 107.1472601, "50" ],
		[ -6.2485428, 107.1025074, "50" ],
		[ -6.2697455, 107.1775163, "50" ],
		[ -6.2685649, 107.0509906, "50" ],
		[ -6.2667826, 107.0723241, "50" ],
		[ -6.3460974, 107.1210127, "50" ],
		[ -6.2603041, 107.0900341, "50" ],
		[ -6.2924895, 107.1552315, "50" ],
		[ -6.2266816, 107.1657079, "50" ],
		[ -6.2482444, 107.0702371, "50" ],
		[ -6.3144055, 107.0992583, "50" ],
		[ -6.3590143, 107.1064558, "50" ],
		[ -6.2425509, 107.0875357, "50" ],
		[ -6.2455843, 107.0784328, "50" ],
		[ -6.2540895, 107.0970166, "50" ],
		[ -6.1944588, 107.0783218, "50" ],
		[ -6.2845651, 107.1070862, "50" ],
		[ -6.2679337, 107.1011837, "50" ],
		[ -6.1904684, 107.1011837, "50" ],
		[ -6.2425509, 107.0875357, "50" ],
		[ -6.2275733, 107.1657079, "50" ],
		[ -6.3714897, 107.1088667, "50" ],
		[ -6.3932636, 107.1150283, "50" ]
	];

	L.heatLayer(diniHari, {radius: 25}).addTo(dinihari2020);
	L.heatLayer(pagi, {radius: 25}).addTo(pagihari2020);
	L.heatLayer(siang, {radius: 25}).addTo(sianghari2020);
	L.heatLayer(malam, {radius: 25}).addTo(malamhari2020);
	L.heatLayer(tahun2020, {radius: 25}).addTo(Tahun2020);

	L.control.layers(baseMaps, overlayer).addTo(map);

</script>